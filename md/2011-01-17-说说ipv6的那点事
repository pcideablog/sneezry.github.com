2011-01-17-说说ipv6的那点事
很多同学不知道ipv6是神马东西，其实ipv6和ipv4是属于同一类的东西——协议。我们熟知的ip地址，如本地网卡寻回地址127.0.0.1，局域网中的地址192.168.0.1，外网地址202.198.72.176等等，这些都是ipv4地址。按照ipv4地址的规则，从0.0.0.0一直到255.255.255.255一共有大约42亿个地址，不过很不幸的是目前的余量不足5%，预计在53天后所有ipv4地址均会分配完毕。<br>这就好比电话号码（不甚恰当，只是举个例子），从1000000到9999999的所有号码都被分配完了，那么电话局往往会增加一位，如在原号码前加8，扩大电话号码的容量以满足更多的电话接入申请者。<br>ipv6的出现正是为了解决ipv4余量不足的问题而采取的举措，不过当然不会像我前面举的电话号码那个例子那么简单，ipv6和ipv4长得一点也不像。2404:6800:8007::63是ipv6.google.com的ipv6地址，ipv6不像ipv4那样数字间用圆点（.）隔开，而是用冒号（:）隔开，同时两个连在一起的冒号（::）是缩写方式，代表n个全零段。ipv6每段数字最大为ffff（16进制），共8段，而ipv4每段数字最大为ff（16进制），共4段，这样算来ipv6总量是ipv4的7.92×1028倍！<br>ipv6不仅解决了ipv4总量不足的缺点，而且在安全上也大大增强。之前TCP/IP协议对安全验证上做得很不好，这样使得拒绝服务攻击变得很容易，只要在TCP/IP协议三次握手中想双方通信者发送RST包就可以阻止双方继续通信。ipv6将改变这一现状，使TCP/IP协议更加安全可靠。<br>目前高校基本都开通了ipv6，而民用还未普及。2011年6月将举行ipv6 Day，以Google、Facebook和Yahoo为首的三大网络巨头将带头进入ipv6时代。那么我们不妨也凑凑ipv6的热闹，即使我们的ISP没有开通ipv6。<br>首先我们需要架设隧道，不要紧张，其实非常简单，不要任何技术。如果你之前通过网上的教程用HE.NET建立过隧道，那么你可以跳过了，如果你没有，那么下载一款叫做“紫狐”的浏览器吧，这个是清华大学搞的，没有问题的，用的是开源的火狐浏览器的核心。当你第一次运行它时，它会自动为你架设好隧道。<br>然后就是测试你的DNS是否能正常解析ipv6。打开命令提示符，使用ping命令，如ping ipv6.google.com看是否能返回正确的ipv6结果，如果不能，尝试用ping ipv6.google.com -6试试。一般加上-6这个参数都能获得正确的ipv6地址。如果你不加参数不能获得（多半都是win7用户吧？xp用户都能正确得到的），目前我的办法也只是修改本机hosts文件了（c:/windows/system32/drivers/etc/hosts），通过ping -6获得网站的ipv6地址后添加进去。<br>通过这一番折腾，你发现你可以上很多ipv6的网站了（需要之前添加这些网站的ipv6地址到hosts文件）。不过当然，我写这篇文章可不是只教大家上ipv6的网站，我是为了普及大家的知识哦。如果上面哪里我说的不准确还请大家多多指教，因为ipv6我现在研究得也只是表面而已。

